<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Cosmoport</title>
	<link type="text/css" rel="stylesheet" media="all" href="css/style.css?v=1" />
</head>
<body>
	<canvas id="cnv"></canvas>
	<script src="js/time.js"></script>
	<script src="js/vector.js"></script>
	<script src="js/shapes.js"></script>
	<script src="js/base.js"></script>
	<script>
	
var tileset = new Image();
tileset.src = 'images/tileset.png';
var testp1 = new Image();
testp1.src = 'images/test.jpg';
var testp2 = new Image();
testp2.src = 'images/urok1.6.png';

var tile = new Sprite({image:tileset, position:new Vector2(200,200), z:999, size:new Vector2(32,32), delta:new Vector2(96,0)});

var rect1 = new Rect({position:new Vector2(32,32),size:new Vector2(300,150),color:'#39C',stroke:4,strokeColor:'#FFF'});
rect1.Start = function(){
	this.moveTrigger = true;
}
rect1.Update = function(){
	if(this.moveTrigger){
		this.position.y += 5;
	} else {
		this.position.y -= 5;
	}
	
	if(this.position.y <= 4 || this.position.y >= window.innerHeight-this.size.y-4){
		this.moveTrigger = !this.moveTrigger;
	}
}

var test1 = new Sprite({image:testp1,position:new Vector2(50,50),size:new Vector2(64,100),delta:new Vector2(96,0),deltaScale:new Vector2(128,128),hidden:true});

var rect2 = new Rect({position:new Vector2(50,300),size:new Vector2(230,400),color:'rgba(255,128,0,0.5)',stroke:8,strokeColor:'rgba(88,0,0,0.7)'});
rect2.Start = function(){
	this.moveTrigger = true;
}
rect2.Update = function(){
	if(this.moveTrigger){
		this.position.x += 7;
	} else {
		this.position.x -= 7;
	}
	
	if(this.position.x <= 8 || this.position.x >= scene1.width-this.size.x-8){
		this.moveTrigger = !this.moveTrigger;
	}
}

var test2 = new Sprite({image:testp2, position:new Vector2(200,300), size:new Vector2(196,184)});
var circ1 = new Circle({position:new Vector2(50,250),radius:200,startDegrees:Math.PI/2,endDegrees:3*Math.PI/2,counterClockwise:true,color:'rgba(0,0,0,0)',stroke:50,strokeColor:'#FFF'});
var circ2 = new Circle({position:new Vector2(300,300), radius:20, color:'#FFF'});

var showFPS = new Text({position: new Vector2(4,8), z:99});
showFPS.Update = function(){
	this.text = 'FPS: ' + Game.time.fps;
}

var scene1 = new Scene({width:1000,height:1000,objects:[tile, rect1, test1, rect2, test2, circ1, circ2, showFPS], sources:[tileset,testp1,testp2]});

window.onload = function(){
	Game.Run({scene : scene1});
}

	</script>
</body>
</html>