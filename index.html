<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Cosmoport</title>
	<link type="text/css" rel="stylesheet" media="all" href="css/style.css?v=1" />
</head>
<body>
	<canvas id="cnv"></canvas>
	<script src="js/base.js"></script>
	<script src="js/time.js"></script>
	<script src="js/vector.js"></script>
	<script src="js/transform.js"></script>
	<script src="js/shapes.js"></script>
	<script>
	
var tileset = new Image();
tileset.src = 'images/tileset.png';
var testp1 = new Image();
testp1.src = 'images/test.jpg';
var testp2 = new Image();
testp2.src = 'images/urok1.6.png';

var tile = new Sprite({image:tileset, x:200, y:200, z:999, width:32, height:32, dx:96, dy:0});

var rect1 = new Rect({x:50,y:50,width:300,height:150,color:'#39C',stroke:4,strokeColor:'#FFF',rotation:-Math.PI/6});
rect1.Start = function(){
	this.moveTrigger = true;
}
rect1.Update = function(){
	if(this.moveTrigger){
		this.y += 3;
	} else {
		this.y -= 3;
	}
	
	if(this.y <= 4 || this.y >= window.innerHeight-this.height-4){
		this.moveTrigger = !this.moveTrigger;
	}
}

var test1 = new Sprite({image:testp1,x:250,y:250,width:64,height:100,dx:96,deltaWidth:128,deltaHeight:128,hidden:true});

var rect2 = new Rect({x:50,y:300,width:230,height:400,color:'rgba(255,128,0,0.5)',stroke:8,strokeColor:'rgba(88,0,0,0.7)'});
rect2.Start = function(){
	this.moveTrigger = true;
}
rect2.Update = function(){
	if(this.moveTrigger){
		this.x += 7;
	} else {
		this.x -= 7;
	}
	
	if(this.x <= 8 || this.x >= scene1.width-this.width-8){
		this.moveTrigger = !this.moveTrigger;
	}
}

var test2 = new Sprite({image:testp2, x:0, y:300, width:196, height:184, rotation:-Math.PI/4});
var circ1 = new Circle({x:50,y:250,radius:200,startDegrees:Math.PI/2,endDegrees:3*Math.PI/2,counterClockwise:true,color:'rgba(0,0,0,0)',stroke:50,strokeColor:'#FFF'});
var circ2 = new Circle({x:300, y:300, radius:20, color:'#FFF'});

var scene1 = new Scene({x:0,y:0,width:1000,height:1000,objects:[tile, rect1, test1, rect2, test2, circ1, circ2], sources:[tileset,testp1,testp2]});

window.onload = function(){
	Game.Run({scene : scene1});
}

	</script>
</body>
</html>